<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.24">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>AWM useRguide – 5&nbsp; Data Scoring</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data-score-merge.html" rel="next">
<link href="./data-prep.html" rel="prev">
<link href="./cover_small.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">AWM useRguide</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="https://englelab.gatech.edu/" target="_blank"> 
<span class="menu-text">Lab Website</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://engle-lab.gitbook.io/lab-manual/" target="_blank"> 
<span class="menu-text">Lab Manual</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://dr-jt.github.io/r-for-psychology-students/" target="_blank"> 
<span class="menu-text">R Workshop</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-r-packages" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">R Packages</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-r-packages">
<li>
    <a class="dropdown-item" href="https://englelab.github.io/englelab/" target="_blank">
 <span class="dropdown-text">englelab</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dr-jt.github.io/psyworkflow/" target="_blank">
 <span class="dropdown-text">psyworkflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dr-jt.github.io/semoutput/" target="_blank">
 <span class="dropdown-text">semoutput</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dr-jt.github.io/modeloutput/" target="_blank">
 <span class="dropdown-text">modeloutput</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dr-jt.github.io/pupillometry/" target="_blank">
 <span class="dropdown-text">pupillometry</span></a>
  </li>  
    </ul>
</li>
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data-proc-overview.html">Data Processing</a></li><li class="breadcrumb-item"><a href="./data-score.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Scoring</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installs and Updates</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Data Processing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-proc-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./compile-raw-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Compile Raw Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Setup Project</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Preparation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-score.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Scoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-score-merge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Scoring - Merge</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-analysis-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regression</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./update-packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Update Packages</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#overview-of-template" id="toc-overview-of-template" class="nav-link active" data-scroll-target="#overview-of-template">Overview of Template</a>
  <ul class="collapse">
<li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">Import</a></li>
  <li><a href="#score-data" id="toc-score-data" class="nav-link" data-scroll-target="#score-data">Score Data</a></li>
  <li><a href="#clean-data" id="toc-clean-data" class="nav-link" data-scroll-target="#clean-data">Clean Data</a></li>
  <li><a href="#reliability" id="toc-reliability" class="nav-link" data-scroll-target="#reliability">Reliability</a></li>
  <li><a href="#save-data" id="toc-save-data" class="nav-link" data-scroll-target="#save-data">Save Data</a></li>
  </ul>
</li>
  <li><a href="#tidy-data-example" id="toc-tidy-data-example" class="nav-link" data-scroll-target="#tidy-data-example">Tidy Data Example</a></li>
  <li>
<a href="#trial-level-cleaning" id="toc-trial-level-cleaning" class="nav-link" data-scroll-target="#trial-level-cleaning">Trial-Level Cleaning</a>
  <ul class="collapse">
<li><a href="#reaction-times" id="toc-reaction-times" class="nav-link" data-scroll-target="#reaction-times">Reaction Times</a></li>
  </ul>
</li>
  <li><a href="#data-scoring" id="toc-data-scoring" class="nav-link" data-scroll-target="#data-scoring">Data Scoring</a></li>
  <li>
<a href="#pivot" id="toc-pivot" class="nav-link" data-scroll-target="#pivot">Pivot</a>
  <ul class="collapse">
<li><a href="#between-subjects-anova" id="toc-between-subjects-anova" class="nav-link" data-scroll-target="#between-subjects-anova">Between-Subjects ANOVA</a></li>
  <li><a href="#within-subjects-anova" id="toc-within-subjects-anova" class="nav-link" data-scroll-target="#within-subjects-anova">Within-Subjects ANOVA</a></li>
  <li><a href="#correlation-and-regression" id="toc-correlation-and-regression" class="nav-link" data-scroll-target="#correlation-and-regression">Correlation and Regression</a></li>
  </ul>
</li>
  <li>
<a href="#subject-level-cleaning" id="toc-subject-level-cleaning" class="nav-link" data-scroll-target="#subject-level-cleaning">Subject-Level Cleaning</a>
  <ul class="collapse">
<li><a href="#remove-problematic-subjects" id="toc-remove-problematic-subjects" class="nav-link" data-scroll-target="#remove-problematic-subjects">Remove Problematic Subjects</a></li>
  <li><a href="#remove-outliers" id="toc-remove-outliers" class="nav-link" data-scroll-target="#remove-outliers">Remove Outliers</a></li>
  </ul>
</li>
  <li>
<a href="#calculate-reliability" id="toc-calculate-reliability" class="nav-link" data-scroll-target="#calculate-reliability">Calculate Reliability</a>
  <ul class="collapse">
<li><a href="#split-half-reliability" id="toc-split-half-reliability" class="nav-link" data-scroll-target="#split-half-reliability">Split-half reliability</a></li>
  <li><a href="#cronbachs-alpha" id="toc-cronbachs-alpha" class="nav-link" data-scroll-target="#cronbachs-alpha">Cronbach’s alpha</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data-proc-overview.html">Data Processing</a></li><li class="breadcrumb-item"><a href="./data-score.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Scoring</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Scoring</span>
</h1>
<p class="subtitle lead">Data Processing</p>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header><p><img src="images/data_workflow_2.png" class="img-fluid" width="850"></p>
<p>At this stage of data processing you have created tidy raw data files for each task.</p>
<p>The next step is to process the raw data into aggregate summary variables. This involves several steps:</p>
<ol type="1">
<li><p>Calculate task scores</p></li>
<li><p>Evaluate and remove problematic subjects and outliers</p></li>
<li><p>Calculate reliability</p></li>
</ol>
<hr>
<section id="overview-of-template" class="level1"><h1>Overview of Template</h1>
<p>You can download an R script template to score tidy raw data files:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">englelab</span><span class="fu">::</span><span class="fu"><a href="https://englelab.github.io/englelab/reference/get_template.html">get_template</a></span><span class="op">(</span>score_script <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="setup" class="level2"><h2 class="anchored" data-anchor-id="setup">Setup</h2>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ---- Setup -------------------------------------------------------------------</span></span>
<span><span class="co"># packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/EngleLab/englelab">englelab</a></span><span class="op">)</span>    <span class="co"># for data cleaning functions</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span>       <span class="co"># for pivot_wider. delete if not using</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/">psych</a></span><span class="op">)</span>       <span class="co"># for cronbach's alpha. delete if not using</span></span>
<span></span>
<span><span class="co"># directories</span></span>
<span><span class="va">import_dir</span> <span class="op">&lt;-</span> <span class="st">"data/raw"</span></span>
<span><span class="va">output_dir</span> <span class="op">&lt;-</span> <span class="st">"data/scored"</span></span>
<span></span>
<span><span class="co"># file names</span></span>
<span><span class="va">task</span> <span class="op">&lt;-</span> <span class="st">"taskname"</span></span>
<span><span class="va">import_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"raw.csv"</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="va">output_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"Scores.csv"</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## data cleaning parameters</span></span>
<span><span class="va">outlier_cutoff</span> <span class="op">&lt;-</span> <span class="fl">3.5</span></span>
<span><span class="co"># ------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <strong>Setup</strong> section is to:</p>
<ul>
<li><p>Load any packages used in the script</p></li>
<li><p>Set the directories of where to import and output data files to</p></li>
<li><p>Set the file names of the data files to be imported and outputted</p></li>
<li><p>Set data cleaning parameters (e.g., outlier criterion)</p></li>
</ul></section><section id="import" class="level2"><h2 class="anchored" data-anchor-id="import">Import</h2>
<p>Given that 1) you created a tidy raw data file in .csv format, and 2) you specified <code>import_dir</code> and <code>import_file</code> in the setup section, you most likely do not need to change anything here.</p>
<p>Optionally, you might want to go ahead and filter out any rows that you absolutely do not want to include at any point in scoring the data (e.g., practice trials or certain subjects).</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ---- Import Data -------------------------------------------------------------</span></span>
<span><span class="va">data_import</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="va">import_dir</span>, <span class="va">import_file</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># ------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="score-data" class="level2"><h2 class="anchored" data-anchor-id="score-data">Score Data</h2>
<p>The <strong>Score Data</strong> section is where most of the work needs to be done. You should be using <code>dplyr</code> and possibly <code>tidyr</code> to do most of the work here, though you may need other packages and functions. You can delete whatever is in there, that is just a placeholder as an example of the type of functions you might use.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ---- Score Data --------------------------------------------------------------</span></span>
<span><span class="va">data_scores</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="va">Subject</span><span class="op">)</span></span>
<span><span class="co"># ------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="clean-data" class="level2"><h2 class="anchored" data-anchor-id="clean-data">Clean Data</h2>
<p>The next section of the script template is for cleaning the data by removing problematic subjects and/or removing outliers.</p>
</section><section id="reliability" class="level2"><h2 class="anchored" data-anchor-id="reliability">Reliability</h2>
<p>There are two standard ways of calculating reliability: split-half and cronbach’s alpha. The script template provides some template code for calculating both of these.</p>
</section><section id="save-data" class="level2"><h2 class="anchored" data-anchor-id="save-data">Save Data</h2>
<p>No need to change anything here. Isn’t that nice?</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ---- Save Data ---------------------------------------------------------------</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">data_raw</span>, <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="va">output_file</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># ------------------------------------------------------------------------------</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="tidy-data-example" class="level1"><h1>Tidy Data Example</h1>
<p>Let’s use the tidy data created in the previous chapter (with two added participants)</p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["TrialProc"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Trial"],"name":[3],"type":["int"],"align":["right"]},{"label":["Condition"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Response"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Correct_Response"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Accuracy"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["RT"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"practice","3":"1","4":"congruent","5":"red","6":"red","7":"1","8":"560"},{"1":"1","2":"practice","3":"2","4":"incongruent","5":"blue","6":"blue","7":"1","8":"670"},{"1":"1","2":"practice","3":"3","4":"congruent","5":"green","6":"blue","7":"0","8":"400"},{"1":"1","2":"real","3":"1","4":"incongruent","5":"blue","6":"blue","7":"1","8":"431"},{"1":"1","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"0","8":"23"},{"1":"1","2":"real","3":"3","4":"congruent","5":"red","6":"red","7":"1","8":"643"},{"1":"1","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"542"},{"1":"1","2":"real","3":"5","4":"congruent","5":"green","6":"red","7":"0","8":"430"},{"1":"2","2":"practice","3":"1","4":"congruent","5":"green","6":"green","7":"1","8":"332"},{"1":"2","2":"practice","3":"2","4":"congruent","5":"green","6":"green","7":"1","8":"434"},{"1":"2","2":"practice","3":"3","4":"incongruent","5":"red","6":"red","7":"1","8":"536"},{"1":"2","2":"real","3":"1","4":"congruent","5":"green","6":"green","7":"1","8":"455"},{"1":"2","2":"real","3":"2","4":"incongruent","5":"red","6":"blue","7":"0","8":"743"},{"1":"2","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"356"},{"1":"2","2":"real","3":"4","4":"incongruent","5":"blue","6":"red","7":"0","8":"9452"},{"1":"2","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"342"},{"1":"3","2":"practice","3":"1","4":"congruent","5":"red","6":"red","7":"1","8":"456"},{"1":"3","2":"practice","3":"2","4":"incongruent","5":"green","6":"green","7":"1","8":"526"},{"1":"3","2":"practice","3":"3","4":"congruent","5":"green","6":"blue","7":"0","8":"364"},{"1":"3","2":"real","3":"1","4":"incongruent","5":"green","6":"blue","7":"0","8":"331"},{"1":"3","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"0","8":"234"},{"1":"3","2":"real","3":"3","4":"congruent","5":"blue","6":"red","7":"0","8":"353"},{"1":"3","2":"real","3":"4","4":"incongruent","5":"red","6":"blue","7":"0","8":"242"},{"1":"3","2":"real","3":"5","4":"congruent","5":"green","6":"green","7":"1","8":"352"},{"1":"4","2":"practice","3":"1","4":"congruent","5":"blue","6":"blue","7":"1","8":"232"},{"1":"4","2":"practice","3":"2","4":"congruent","5":"green","6":"green","7":"1","8":"134"},{"1":"4","2":"practice","3":"3","4":"incongruent","5":"red","6":"red","7":"1","8":"636"},{"1":"4","2":"real","3":"1","4":"congruent","5":"blue","6":"green","7":"0","8":"1955"},{"1":"4","2":"real","3":"2","4":"incongruent","5":"red","6":"red","7":"1","8":"1843"},{"1":"4","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"1056"},{"1":"4","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"1086"},{"1":"4","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"3042"}],"options":{"columns":{"min":{},"max":[9]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data_import</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">data_import</span>, <span class="va">TrialProc</span> <span class="op">==</span> <span class="st">"real"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="trial-level-cleaning" class="level1"><h1>Trial-Level Cleaning</h1>
<p>It can be a good idea to do some initial <strong>data cleaning</strong> at the trial level before scoring the data to make sure we are using only quality data.</p>
<p>The data cleaning that you need to do will of course depend on the nature of your data and study. Give some thought to the type of data cleaning steps you might want to take. Think about what would identify an observation as having low quality data (e.g., unrealistically short or long reaction times).</p>
<section id="reaction-times" class="level3"><h3 class="anchored" data-anchor-id="reaction-times">Reaction Times</h3>
<p>For behavioral and cognitive tasks that include measures of reaction time, researchers will often exclude trials that have unrealistically fast reaction times or extremely long reaction times.</p>
<p>You will notice that in the example tidy raw data file, there are a few trials that contain unrealistically fast reaction times and extremely long reaction times.</p>
<p>A common criterion for unrealistically fast reaction times is anything less than 200 milliseconds. For extremely long reaction times, we can just use 5000 milliseconds (5 seconds) as the criterion.</p>
<p>There are two general strategies to do this:</p>
<ul>
<li><p>use <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> to get rid of the rows entirely</p></li>
<li><p>use <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when()</a></code> to set the reaction time and accuracy values to missing <code>NA</code></p></li>
</ul>
<section id="using-filter" class="level4"><h4 class="anchored" data-anchor-id="using-filter">Using filter</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">rt_short_criterion</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">rt_long_criterion</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span>
<span></span>
<span><span class="va">data_scores</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["TrialProc"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Trial"],"name":[3],"type":["int"],"align":["right"]},{"label":["Condition"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Response"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Correct_Response"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Accuracy"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["RT"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"real","3":"1","4":"incongruent","5":"blue","6":"blue","7":"1","8":"431"},{"1":"1","2":"real","3":"3","4":"congruent","5":"red","6":"red","7":"1","8":"643"},{"1":"1","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"542"},{"1":"1","2":"real","3":"5","4":"congruent","5":"green","6":"red","7":"0","8":"430"},{"1":"2","2":"real","3":"1","4":"congruent","5":"green","6":"green","7":"1","8":"455"},{"1":"2","2":"real","3":"2","4":"incongruent","5":"red","6":"blue","7":"0","8":"743"},{"1":"2","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"356"},{"1":"2","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"342"},{"1":"3","2":"real","3":"1","4":"incongruent","5":"green","6":"blue","7":"0","8":"331"},{"1":"3","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"0","8":"234"},{"1":"3","2":"real","3":"3","4":"congruent","5":"blue","6":"red","7":"0","8":"353"},{"1":"3","2":"real","3":"4","4":"incongruent","5":"red","6":"blue","7":"0","8":"242"},{"1":"3","2":"real","3":"5","4":"congruent","5":"green","6":"green","7":"1","8":"352"},{"1":"4","2":"real","3":"1","4":"congruent","5":"blue","6":"green","7":"0","8":"1955"},{"1":"4","2":"real","3":"2","4":"incongruent","5":"red","6":"red","7":"1","8":"1843"},{"1":"4","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"1056"},{"1":"4","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"1086"},{"1":"4","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"3042"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="set-to-missing" class="level4"><h4 class="anchored" data-anchor-id="set-to-missing">Set to missing</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">rt_short_criterion</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">rt_long_criterion</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span>
<span></span>
<span><span class="va">data_scores</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>RT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&lt;</span> <span class="va">rt_short_criterion</span> <span class="op">~</span> <span class="cn">NA</span>,</span>
<span>                        <span class="va">RT</span> <span class="op">&gt;</span> <span class="va">rt_long_criterion</span> <span class="op">~</span> <span class="cn">NA</span>,</span>
<span>                        .default <span class="op">=</span> <span class="va">RT</span><span class="op">)</span>,</span>
<span>         Accuracy <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">RT</span><span class="op">)</span> <span class="op">~</span> <span class="cn">NA</span>,</span>
<span>                              .default <span class="op">=</span> <span class="va">Accuracy</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["TrialProc"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Trial"],"name":[3],"type":["int"],"align":["right"]},{"label":["Condition"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Response"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Correct_Response"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Accuracy"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["RT"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"real","3":"1","4":"incongruent","5":"blue","6":"blue","7":"1","8":"431"},{"1":"1","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"NA","8":"NA"},{"1":"1","2":"real","3":"3","4":"congruent","5":"red","6":"red","7":"1","8":"643"},{"1":"1","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"542"},{"1":"1","2":"real","3":"5","4":"congruent","5":"green","6":"red","7":"0","8":"430"},{"1":"2","2":"real","3":"1","4":"congruent","5":"green","6":"green","7":"1","8":"455"},{"1":"2","2":"real","3":"2","4":"incongruent","5":"red","6":"blue","7":"0","8":"743"},{"1":"2","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"356"},{"1":"2","2":"real","3":"4","4":"incongruent","5":"blue","6":"red","7":"NA","8":"NA"},{"1":"2","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"342"},{"1":"3","2":"real","3":"1","4":"incongruent","5":"green","6":"blue","7":"0","8":"331"},{"1":"3","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"0","8":"234"},{"1":"3","2":"real","3":"3","4":"congruent","5":"blue","6":"red","7":"0","8":"353"},{"1":"3","2":"real","3":"4","4":"incongruent","5":"red","6":"blue","7":"0","8":"242"},{"1":"3","2":"real","3":"5","4":"congruent","5":"green","6":"green","7":"1","8":"352"},{"1":"4","2":"real","3":"1","4":"congruent","5":"blue","6":"green","7":"0","8":"1955"},{"1":"4","2":"real","3":"2","4":"incongruent","5":"red","6":"red","7":"1","8":"1843"},{"1":"4","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"1056"},{"1":"4","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"1086"},{"1":"4","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"3042"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section></section><section id="data-scoring" class="level1"><h1>Data Scoring</h1>
<p>How you need to score your data depends on what you are measuring and what type of conditions you have. However, most approaches require calculating a summary statistic at some point. We will cover how to use <code>summarise(.by = )</code> to calculate summary statistics.</p>
<p>With this example data let’s calculate a few different scores, aggregated by <code>ID</code> and <code>Condition</code></p>
<ul>
<li><p>Mean accuracy</p></li>
<li><p>Mean reaction time</p></li>
<li><p>Reaction time variability (e.g., standard deviation)</p></li>
<li><p>Number of trials aggregated over</p></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">rt_short_criterion</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">rt_long_criterion</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span>
<span></span>
<span><span class="va">data_scores</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Condition</span><span class="op">)</span>,</span>
<span>            Accuracy.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Accuracy</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            RT.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            RT.sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Condition"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["RT.sd"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"incongruent","3":"1.0000000","4":"486.500","5":"78.48885"},{"1":"1","2":"congruent","3":"0.5000000","4":"536.500","5":"150.61374"},{"1":"2","2":"congruent","3":"1.0000000","4":"405.500","5":"70.00357"},{"1":"2","2":"incongruent","3":"0.5000000","4":"542.500","5":"283.54982"},{"1":"3","2":"incongruent","3":"0.0000000","4":"286.500","5":"62.93250"},{"1":"3","2":"congruent","3":"0.3333333","4":"313.000","5":"68.41783"},{"1":"4","2":"congruent","3":"0.5000000","4":"1505.500","5":"635.68900"},{"1":"4","2":"incongruent","3":"1.0000000","4":"1990.333","5":"986.28816"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="pivot" class="level1"><h1>Pivot</h1>
<p>Now, depending on how this data is going to be analyzed (and even what statistical software you are using to analyze the data) you may want this data frame in either long (its current form) or wide format.</p>
<section id="between-subjects-anova" class="level2"><h2 class="anchored" data-anchor-id="between-subjects-anova">Between-Subjects ANOVA</h2>
<p><code>Condition</code> is not a between-subject variable in this sample data but if you have a between-subject variable or design, you will want to keep the column(s) for that variable(s) in long format.</p>
</section><section id="within-subjects-anova" class="level2"><h2 class="anchored" data-anchor-id="within-subjects-anova">Within-Subjects ANOVA</h2>
<p><code>Condition</code> is a within-subject variable in this sample data. Whether you want this variable in long or wide format depends on whether you will use R or JASP to analyze the data.</p>
<ul>
<li><p>For R, you can keep it in long format</p></li>
<li><p>For JASP, you will need to restructure it to wide format</p></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">rt_short_criterion</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">rt_long_criterion</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span>
<span></span>
<span><span class="va">data_scores</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Condition</span><span class="op">)</span>,</span>
<span>            Accuracy.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Accuracy</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            RT.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            RT.sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>              names_from <span class="op">=</span> <span class="va">Condition</span>,</span>
<span>              values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Accuracy.mean</span>, <span class="va">RT.mean</span>, <span class="va">RT.sd</span><span class="op">)</span>,</span>
<span>              names_glue <span class="op">=</span> <span class="st">"{Condition}_{.value}"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["incongruent_Accuracy.mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["congruent_Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["incongruent_RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["congruent_RT.mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["incongruent_RT.sd"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["congruent_RT.sd"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1.0","3":"0.5000000","4":"486.500","5":"536.5","6":"78.48885","7":"150.61374"},{"1":"2","2":"0.5","3":"1.0000000","4":"542.500","5":"405.5","6":"283.54982","7":"70.00357"},{"1":"3","2":"0.0","3":"0.3333333","4":"286.500","5":"313.0","6":"62.93250","7":"68.41783"},{"1":"4","2":"1.0","3":"0.5000000","4":"1990.333","5":"1505.5","6":"986.28816","7":"635.68900"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="correlation-and-regression" class="level2"><h2 class="anchored" data-anchor-id="correlation-and-regression">Correlation and Regression</h2>
<p>For correlation and regression you will want to restructure the data to wide format (same as the code above).</p>
<p>If you have multiple data files from different measures or tasks, that you eventually want to merge into a single data frame for analysis, it is a good idea to add the measure or task name to the column names. That way when you merge the data you know which column corresponds to which task.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">rt_short_criterion</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">rt_long_criterion</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span>
<span></span>
<span><span class="va">data_scores</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Condition</span><span class="op">)</span>,</span>
<span>            Accuracy.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Accuracy</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            RT.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            RT.sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>              names_from <span class="op">=</span> <span class="va">Condition</span>,</span>
<span>              values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Accuracy.mean</span>, <span class="va">RT.mean</span>, <span class="va">RT.sd</span><span class="op">)</span>,</span>
<span>              names_glue <span class="op">=</span> <span class="st">"{task}_{Condition}_{.value}"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_Accuracy.mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.sd"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.sd"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1.0","3":"0.5000000","4":"486.500","5":"536.5","6":"78.48885","7":"150.61374"},{"1":"2","2":"0.5","3":"1.0000000","4":"542.500","5":"405.5","6":"283.54982","7":"70.00357"},{"1":"3","2":"0.0","3":"0.3333333","4":"286.500","5":"313.0","6":"62.93250","7":"68.41783"},{"1":"4","2":"1.0","3":"0.5000000","4":"1990.333","5":"1505.5","6":"986.28816","7":"635.68900"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="subject-level-cleaning" class="level1"><h1>Subject-Level Cleaning</h1>
<p>The next section of the script template is for cleaning the data by removing problematic subjects and/or removing outliers.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ---- Clean Data --------------------------------------------------------------</span></span>
<span><span class="va">data_cleaned</span> <span class="op">&lt;-</span> <span class="va">data_scores</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://englelab.github.io/englelab/reference/remove_problematic.html">remove_problematic</a></span><span class="op">(</span></span>
<span>    filter <span class="op">=</span> <span class="st">""</span>, <span class="co"># add a statement that would go in dplyr::filter</span></span>
<span>    log_file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/logs"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"_problematic.csv"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://englelab.github.io/englelab/reference/replace_outliers.html">replace_outliers</a></span><span class="op">(</span></span>
<span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    cutoff <span class="op">=</span> <span class="va">outlier_cutoff</span>,</span>
<span>    with <span class="op">=</span> <span class="st">"NA"</span>,</span>
<span>    log_file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/logs"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"_outliers.csv"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># ------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="remove-problematic-subjects" class="level2"><h2 class="anchored" data-anchor-id="remove-problematic-subjects">Remove Problematic Subjects</h2>
<p>Depending on the task, problematic subjects can be detected in different ways. For this example data we will simply remove subjects that had less than chance performance on <code>congruent</code> trials (were just guessing or did not understand the task).</p>
<p>To do so, we will use a custom function created for this purpose, <code><a href="https://englelab.github.io/englelab/reference/remove_problematic.html">remove_problematic()</a></code> from our <code>englelab</code> package. <code><a href="https://englelab.github.io/englelab/reference/remove_problematic.html">?englelab::remove_problematic</a></code></p>
<p>The main argument is <code>remove =</code>. This argument takes a logical statement (e.g., <code>remove = Accuracy.mean &lt;= .5</code>).</p>
<p>The other argument, that is more optional, is <code>log_file =</code>. This allows us to save a data file containing only the subjects that were removed. This is good if we later on want to report in publications how many subjects were removed.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">acc_criterion</span> <span class="op">&lt;-</span> <span class="fl">.34</span></span>
<span></span>
<span><span class="va">data_cleaned</span> <span class="op">&lt;-</span> <span class="va">data_scores</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://englelab.github.io/englelab/reference/remove_problematic.html">remove_problematic</a></span><span class="op">(</span></span>
<span>    remove <span class="op">=</span> <span class="st">"Stroop_congruent_Accuracy.mean &lt;= acc_criterion"</span>,</span>
<span>    log_file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/logs"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"_problematic.csv"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_Accuracy.mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.sd"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.sd"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1.0","3":"0.5","4":"486.500","5":"536.5","6":"78.48885","7":"150.61374"},{"1":"2","2":"0.5","3":"1.0","4":"542.500","5":"405.5","6":"283.54982","7":"70.00357"},{"1":"4","2":"1.0","3":"0.5","4":"1990.333","5":"1505.5","6":"986.28816","7":"635.68900"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="remove-outliers" class="level2"><h2 class="anchored" data-anchor-id="remove-outliers">Remove Outliers</h2>
<p>Remove outliers based on their final task scores. A typical way we remove outliers is by setting their score to missing <code>NA</code> if it is 3.5 standard deviations above or below the mean.</p>
<p>To do so, we will use a custom function created for this purpose, <code>replace_outliers</code> from our <code>englelab</code> package.</p>
<p>There are several arguments that need to be defined. See <code><a href="https://englelab.github.io/englelab/reference/replace_outliers.html">?englelab::replace_outliers</a></code> for a description on this.</p>
<p>The fully piped <code>|&gt;</code> code for this entire section looks like:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># set criterion in setup section of script</span></span>
<span><span class="va">acc_criterion</span> <span class="op">&lt;-</span> <span class="fl">.34</span></span>
<span><span class="va">outlier_criterion</span> <span class="op">&lt;-</span> <span class="fl">3.5</span></span>
<span></span>
<span><span class="va">data_cleaned</span> <span class="op">&lt;-</span> <span class="va">data_scores</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://englelab.github.io/englelab/reference/remove_problematic.html">remove_problematic</a></span><span class="op">(</span></span>
<span>    remove <span class="op">=</span> <span class="st">"Stroop_congruent_Accuracy.mean &lt;= acc_criterion"</span>,</span>
<span>    log_file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/logs"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"_problematic.csv"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://englelab.github.io/englelab/reference/replace_outliers.html">replace_outliers</a></span><span class="op">(</span></span>
<span>    variables <span class="op">=</span> <span class="st">"Stroop_incongruent_RT.mean"</span>,</span>
<span>    cutoff <span class="op">=</span> <span class="va">outlier_criterion</span>,</span>
<span>    with <span class="op">=</span> <span class="st">"NA"</span>,</span>
<span>    pass <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    id <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>    log_file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/logs"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">task</span>, <span class="st">"_outliers.csv"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">Stroop_congruent_RT.mean</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Problematic subjects removed: 1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Outliers detected (pass = 1): 0</code></pre>
</div>
</div>
<p>Notice that <code>filter(!is.na())</code> is specified after <code>replace_outliers</code>. This removes any of the outliers from the dataframe.</p>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_Accuracy.mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.sd"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.sd"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1.0","3":"0.5","4":"486.500","5":"536.5","6":"78.48885","7":"150.61374"},{"1":"2","2":"0.5","3":"1.0","4":"542.500","5":"405.5","6":"283.54982","7":"70.00357"},{"1":"4","2":"1.0","3":"0.5","4":"1990.333","5":"1505.5","6":"986.28816","7":"635.68900"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="calculate-reliability" class="level1"><h1>Calculate Reliability</h1>
<p>There are two standard ways of calculating reliability: split-half and cronbach’s alpha.</p>
<p>It is best to calculate reliability only on the subjects that made it passed data cleaning.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">reliability</span> <span class="op">&lt;-</span> <span class="va">data_import</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">data_cleaned</span><span class="op">$</span><span class="va">ID</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="va">ID</span>,</span>
<span>         Trial <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html">row_number</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["TrialProc"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Trial"],"name":[3],"type":["int"],"align":["right"]},{"label":["Condition"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Response"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Correct_Response"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Accuracy"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["RT"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"real","3":"1","4":"incongruent","5":"blue","6":"blue","7":"1","8":"431"},{"1":"1","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"0","8":"23"},{"1":"1","2":"real","3":"3","4":"congruent","5":"red","6":"red","7":"1","8":"643"},{"1":"1","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"542"},{"1":"1","2":"real","3":"5","4":"congruent","5":"green","6":"red","7":"0","8":"430"},{"1":"2","2":"real","3":"1","4":"congruent","5":"green","6":"green","7":"1","8":"455"},{"1":"2","2":"real","3":"2","4":"incongruent","5":"red","6":"blue","7":"0","8":"743"},{"1":"2","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"356"},{"1":"2","2":"real","3":"4","4":"incongruent","5":"blue","6":"red","7":"0","8":"9452"},{"1":"2","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"342"},{"1":"4","2":"real","3":"1","4":"congruent","5":"blue","6":"green","7":"0","8":"1955"},{"1":"4","2":"real","3":"2","4":"incongruent","5":"red","6":"red","7":"1","8":"1843"},{"1":"4","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"1056"},{"1":"4","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"1086"},{"1":"4","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"3042"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
<section id="split-half-reliability" class="level2"><h2 class="anchored" data-anchor-id="split-half-reliability">Split-half reliability</h2>
<p>First trials need to be split between even and odd trials (or whatever split-half one is using).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">splithalf</span> <span class="op">&lt;-</span> <span class="va">reliability</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="va">ID</span>,</span>
<span>         Split <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">Trial</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span>, <span class="st">"odd"</span>, <span class="st">"even"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["TrialProc"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Trial"],"name":[3],"type":["int"],"align":["right"]},{"label":["Condition"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Response"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Correct_Response"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Accuracy"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["RT"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Split"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"real","3":"1","4":"incongruent","5":"blue","6":"blue","7":"1","8":"431","9":"odd"},{"1":"1","2":"real","3":"2","4":"congruent","5":"blue","6":"green","7":"0","8":"23","9":"even"},{"1":"1","2":"real","3":"3","4":"congruent","5":"red","6":"red","7":"1","8":"643","9":"odd"},{"1":"1","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"542","9":"even"},{"1":"1","2":"real","3":"5","4":"congruent","5":"green","6":"red","7":"0","8":"430","9":"odd"},{"1":"2","2":"real","3":"1","4":"congruent","5":"green","6":"green","7":"1","8":"455","9":"odd"},{"1":"2","2":"real","3":"2","4":"incongruent","5":"red","6":"blue","7":"0","8":"743","9":"even"},{"1":"2","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"356","9":"odd"},{"1":"2","2":"real","3":"4","4":"incongruent","5":"blue","6":"red","7":"0","8":"9452","9":"even"},{"1":"2","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"342","9":"odd"},{"1":"4","2":"real","3":"1","4":"congruent","5":"blue","6":"green","7":"0","8":"1955","9":"odd"},{"1":"4","2":"real","3":"2","4":"incongruent","5":"red","6":"red","7":"1","8":"1843","9":"even"},{"1":"4","2":"real","3":"3","4":"congruent","5":"blue","6":"blue","7":"1","8":"1056","9":"odd"},{"1":"4","2":"real","3":"4","4":"incongruent","5":"blue","6":"blue","7":"1","8":"1086","9":"even"},{"1":"4","2":"real","3":"5","4":"incongruent","5":"red","6":"red","7":"1","8":"3042","9":"odd"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Then scores can be re-calculated based on the even/odd splits. Everything that was done to score the data needs to be included, such as trial-level cleaning.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">splithalf</span> <span class="op">&lt;-</span> <span class="va">reliability</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="va">ID</span>,</span>
<span>         Split <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">Trial</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span>, <span class="st">"odd"</span>, <span class="st">"even"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Condition</span>, <span class="va">Split</span><span class="op">)</span>,</span>
<span>            RT.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>              names_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Condition</span>, <span class="va">Split</span><span class="op">)</span>,</span>
<span>              values_from <span class="op">=</span> <span class="va">RT.mean</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["incongruent_odd"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["congruent_odd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["incongruent_even"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"431","3":"536.5","4":"542.0"},{"1":"2","2":"342","3":"405.5","4":"743.0"},{"1":"4","2":"3042","3":"1505.5","4":"1464.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Finally, spearman-brown corrected split-half reliability can be calculated and added to the data frame</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">splithalf</span> <span class="op">&lt;-</span> <span class="va">reliability</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="va">ID</span>,</span>
<span>         Split <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">Trial</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span>, <span class="st">"odd"</span>, <span class="st">"even"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>.by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Condition</span>, <span class="va">Split</span><span class="op">)</span>,</span>
<span>            RT.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">RT</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>              names_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Condition</span>, <span class="va">Split</span><span class="op">)</span>,</span>
<span>              values_from <span class="op">=</span> <span class="va">RT.mean</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">incongruent_even</span>, <span class="va">incongruent_odd</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>r <span class="op">=</span> <span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">r</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">r</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_cleaned</span><span class="op">$</span><span class="va">Stroop_incongruent_RT.mean_splithalf</span> <span class="op">&lt;-</span> <span class="va">splithalf</span><span class="op">$</span><span class="va">r</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_Accuracy.mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.sd"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.sd"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean_splithalf"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1.0","3":"0.5","4":"486.500","5":"536.5","6":"78.48885","7":"150.61374","8":"0.9857407"},{"1":"2","2":"0.5","3":"1.0","4":"542.500","5":"405.5","6":"283.54982","7":"70.00357","8":"0.9857407"},{"1":"4","2":"1.0","3":"0.5","4":"1990.333","5":"1505.5","6":"986.28816","7":"635.68900","8":"0.9857407"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="cronbachs-alpha" class="level2"><h2 class="anchored" data-anchor-id="cronbachs-alpha">Cronbach’s alpha</h2>
<p>Cronbach’s alpha is easier to calculate because we do not need to re-calculate the scores.</p>
<p>The first step is to get the data frame setup such that trial number is spread across columns</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cronbachalpha</span> <span class="op">&lt;-</span> <span class="va">reliability</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">RT</span> <span class="op">&gt;=</span> <span class="va">rt_short_criterion</span>, <span class="va">RT</span> <span class="op">&lt;=</span> <span class="va">rt_long_criterion</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Trial</span>, <span class="va">Accuracy</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>              names_from <span class="op">=</span> <span class="va">Trial</span>,</span>
<span>              values_from <span class="op">=</span> <span class="va">Accuracy</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["3"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["4"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["5"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["2"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1","3":"1","4":"1","5":"0","6":"NA"},{"1":"2","2":"1","3":"1","4":"NA","5":"1","6":"0"},{"1":"4","2":"0","3":"1","4":"1","5":"1","6":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Then we can use <code><a href="https://rdrr.io/pkg/psych/man/alpha.html">psych::alpha()</a></code> to calculate the average correlation between items and save it to the data frame</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">Code</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">Data Frame</a></li>
</ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cronbachalpha</span> <span class="op">&lt;-</span> <span class="va">reliability</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Trial</span>, <span class="va">Accuracy</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="va">ID</span>,</span>
<span>              names_from <span class="op">=</span> <span class="va">Trial</span>,</span>
<span>              values_from <span class="op">=</span> <span class="va">Accuracy</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">ID</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/psych/man/alpha.html">alpha</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># from the psych package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Some items ( 1 ) were negatively correlated with the total scale and 
probably should be reversed.  
To do this, run the function again with the 'check.keys=TRUE' option</code></pre>
</div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data_cleaned</span><span class="op">$</span><span class="va">Stroop_incongruent_RT.mean_cronbachalpha</span> <span class="op">&lt;-</span> <span class="va">cronbachalpha</span><span class="op">$</span><span class="va">total</span><span class="op">$</span><span class="va">std.alpha</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<p><em>Use the small arrow ▸ at the end of the column names to see more columns</em></p>
<div class="cell" data-paged.print="false">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_Accuracy.mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_Accuracy.mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.mean"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.sd"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Stroop_congruent_RT.sd"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean_splithalf"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Stroop_incongruent_RT.mean_cronbachalpha"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"1.0","3":"0.5","4":"486.500","5":"536.5","6":"78.48885","7":"150.61374","8":"0.9857407","9":"-4"},{"1":"2","2":"0.5","3":"1.0","4":"542.500","5":"405.5","6":"283.54982","7":"70.00357","8":"0.9857407","9":"-4"},{"1":"4","2":"1.0","3":"0.5","4":"1990.333","5":"1505.5","6":"986.28816","7":"635.68900","8":"0.9857407","9":"-4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[20],"max":[20]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation column-body"><div class="nav-page nav-page-previous">
      <a href="./data-prep.html" class="pagination-link" aria-label="Data Preparation">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Preparation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data-score-merge.html" class="pagination-link" aria-label="Data Scoring - Merge">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Scoring - Merge</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>